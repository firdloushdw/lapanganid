import { useEffect,useState } from "react"
import { HOST } from "../config"
import {useNavigate, useParams} from "react-router-dom";
import { useMemo } from "react";

export const Detail = () => {

    const {id} = useParams();
    const navigate = useNavigate();
    const [detail,setDetail] = useState({
        "message": "",
        "data": {
          "city": "",
          "user": {
            "active": true,
            "id": 2,
            "username": "",
            "email": ""
          },
          "id": 0,
          "fields": [],
          "facilities": [],
          "address": "",
          "description": "",
          "image_url": "",
          "name": ""
        }
      });

    useMemo(()=>{

        const data = async()=>{
            const rawData = await fetch(HOST+"/api/v1/fields/"+id);
            setDetail(await rawData.json());
        }

        data();

    })

    return (
        <>
            <h1 className="text-center lg:text-[48px] sm:text-3xl font-bold font-josefin lg:mt-24 lg:mb-[28px] text-[#555555]">{detail.data?.name.split(" ")[0]} <span className="text-[#91D36E]">{detail.data?.name.split(" ").slice(1,detail.data.name.split(" ").length).join(" ")}</span> </h1>
            <p className="mb-16 text-center sm:text-xs lg:font-medium font-josefin">{detail.data?.description}</p>
            <section className="wrapper sm:w-full mx-auto lg:w-[1035px] h-[fit-content]">
                <div className="lg:flex lg:grid-cols-2 lg:gap-10">
                    <div className="grid lg:grid-rows-3 lg:col-span-3 lg:grid-flow-col">
                        <div className="row-span-3 col-span-3 bg-black lg:w-[477px] lg:h-[266x] mr-10"> <img className="w-full h-full" src={detail.data?.image_url} alt="" /></div>
                        <div className="row-span-1 col-span-1 bg-black lg:w-[130px] lg:h-[74px] mb-5"> <img className="w-full h-full" src={detail.data?.image_url} alt="" /></div>
                        <div className="row-span-1 col-span-1 bg-black lg:w-[130px] lg:h-[74px] mb-5"> <img className="w-full h-full" src={detail.data?.image_url} alt="" /></div>
                        <div className="row-span-1 col-span-1 bg-black lg:w-[130px] lg:h-[74px] mb-5"> <img className="w-full h-full" src={detail.data?.image_url} alt="" /></div>
                    </div>
                    <div className="">
                        <h1 className="font-medium font-inter text-2xl">{detail.data?.name}</h1>
                        <div className="flex item-center mt-2">
                            <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21.2371 10.3375C21.1551 10.0794 20.997 9.85216 20.7835 9.6855C20.5701 9.51884 20.3113 9.42056 20.041 9.40356L15.1747 9.06767L13.3723 4.52084C13.2739 4.27048 13.1026 4.05543 12.8806 3.90352C12.6586 3.75162 12.3961 3.66986 12.1271 3.66882C11.8581 3.66986 11.5956 3.75162 11.3735 3.90352C11.1515 4.05543 10.9802 4.27048 10.8818 4.52084L9.0467 9.09225L4.21313 9.40356C3.94319 9.42167 3.6849 9.52035 3.47166 9.68685C3.25842 9.85336 3.10004 10.08 3.01703 10.3375C2.93178 10.5989 2.9268 10.8799 3.00273 11.1442C3.07866 11.4085 3.23202 11.644 3.44304 11.8203L7.16243 14.9663L6.05644 19.3165C5.97992 19.6108 5.99369 19.9213 6.09596 20.2076C6.19823 20.494 6.38428 20.743 6.62991 20.9222C6.86834 21.0933 7.15241 21.1894 7.44575 21.1982C7.7391 21.2069 8.02839 21.128 8.2766 20.9714L12.1189 18.5382H12.1353L16.2725 21.1516C16.4847 21.2895 16.7321 21.3634 16.9852 21.3646C17.1919 21.363 17.3954 21.314 17.5802 21.2214C17.7649 21.1288 17.926 20.9951 18.051 20.8305C18.176 20.666 18.2616 20.4749 18.3013 20.2721C18.3409 20.0693 18.3335 19.8601 18.2796 19.6606L17.1081 14.9007L20.8111 11.8203C21.0221 11.644 21.1755 11.4085 21.2514 11.1442C21.3273 10.8799 21.3224 10.5989 21.2371 10.3375Z" fill="url(#paint0_linear_229_1173)" />
                                <defs>
                                    <linearGradient id="paint0_linear_229_1173" x1="12.1271" y1="3.66882" x2="12.1271" y2="21.3646" gradientUnits="userSpaceOnUse">
                                        <stop stop-color="#89CE64" />
                                        <stop offset="1" stop-color="#B9F09D" />
                                    </linearGradient>
                                </defs>
                            </svg>
                            <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21.2371 10.3375C21.1551 10.0794 20.997 9.85216 20.7835 9.6855C20.5701 9.51884 20.3113 9.42056 20.041 9.40356L15.1747 9.06767L13.3723 4.52084C13.2739 4.27048 13.1026 4.05543 12.8806 3.90352C12.6586 3.75162 12.3961 3.66986 12.1271 3.66882C11.8581 3.66986 11.5956 3.75162 11.3735 3.90352C11.1515 4.05543 10.9802 4.27048 10.8818 4.52084L9.0467 9.09225L4.21313 9.40356C3.94319 9.42167 3.6849 9.52035 3.47166 9.68685C3.25842 9.85336 3.10004 10.08 3.01703 10.3375C2.93178 10.5989 2.9268 10.8799 3.00273 11.1442C3.07866 11.4085 3.23202 11.644 3.44304 11.8203L7.16243 14.9663L6.05644 19.3165C5.97992 19.6108 5.99369 19.9213 6.09596 20.2076C6.19823 20.494 6.38428 20.743 6.62991 20.9222C6.86834 21.0933 7.15241 21.1894 7.44575 21.1982C7.7391 21.2069 8.02839 21.128 8.2766 20.9714L12.1189 18.5382H12.1353L16.2725 21.1516C16.4847 21.2895 16.7321 21.3634 16.9852 21.3646C17.1919 21.363 17.3954 21.314 17.5802 21.2214C17.7649 21.1288 17.926 20.9951 18.051 20.8305C18.176 20.666 18.2616 20.4749 18.3013 20.2721C18.3409 20.0693 18.3335 19.8601 18.2796 19.6606L17.1081 14.9007L20.8111 11.8203C21.0221 11.644 21.1755 11.4085 21.2514 11.1442C21.3273 10.8799 21.3224 10.5989 21.2371 10.3375Z" fill="url(#paint0_linear_229_1173)" />
                                <defs>
                                    <linearGradient id="paint0_linear_229_1173" x1="12.1271" y1="3.66882" x2="12.1271" y2="21.3646" gradientUnits="userSpaceOnUse">
                                        <stop stop-color="#89CE64" />
                                        <stop offset="1" stop-color="#B9F09D" />
                                    </linearGradient>
                                </defs>
                            </svg>
                            <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21.2371 10.3375C21.1551 10.0794 20.997 9.85216 20.7835 9.6855C20.5701 9.51884 20.3113 9.42056 20.041 9.40356L15.1747 9.06767L13.3723 4.52084C13.2739 4.27048 13.1026 4.05543 12.8806 3.90352C12.6586 3.75162 12.3961 3.66986 12.1271 3.66882C11.8581 3.66986 11.5956 3.75162 11.3735 3.90352C11.1515 4.05543 10.9802 4.27048 10.8818 4.52084L9.0467 9.09225L4.21313 9.40356C3.94319 9.42167 3.6849 9.52035 3.47166 9.68685C3.25842 9.85336 3.10004 10.08 3.01703 10.3375C2.93178 10.5989 2.9268 10.8799 3.00273 11.1442C3.07866 11.4085 3.23202 11.644 3.44304 11.8203L7.16243 14.9663L6.05644 19.3165C5.97992 19.6108 5.99369 19.9213 6.09596 20.2076C6.19823 20.494 6.38428 20.743 6.62991 20.9222C6.86834 21.0933 7.15241 21.1894 7.44575 21.1982C7.7391 21.2069 8.02839 21.128 8.2766 20.9714L12.1189 18.5382H12.1353L16.2725 21.1516C16.4847 21.2895 16.7321 21.3634 16.9852 21.3646C17.1919 21.363 17.3954 21.314 17.5802 21.2214C17.7649 21.1288 17.926 20.9951 18.051 20.8305C18.176 20.666 18.2616 20.4749 18.3013 20.2721C18.3409 20.0693 18.3335 19.8601 18.2796 19.6606L17.1081 14.9007L20.8111 11.8203C21.0221 11.644 21.1755 11.4085 21.2514 11.1442C21.3273 10.8799 21.3224 10.5989 21.2371 10.3375Z" fill="url(#paint0_linear_229_1173)" />
                                <defs>
                                    <linearGradient id="paint0_linear_229_1173" x1="12.1271" y1="3.66882" x2="12.1271" y2="21.3646" gradientUnits="userSpaceOnUse">
                                        <stop stop-color="#89CE64" />
                                        <stop offset="1" stop-color="#B9F09D" />
                                    </linearGradient>
                                </defs>
                            </svg>
                            <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21.2371 10.3375C21.1551 10.0794 20.997 9.85216 20.7835 9.6855C20.5701 9.51884 20.3113 9.42056 20.041 9.40356L15.1747 9.06767L13.3723 4.52084C13.2739 4.27048 13.1026 4.05543 12.8806 3.90352C12.6586 3.75162 12.3961 3.66986 12.1271 3.66882C11.8581 3.66986 11.5956 3.75162 11.3735 3.90352C11.1515 4.05543 10.9802 4.27048 10.8818 4.52084L9.0467 9.09225L4.21313 9.40356C3.94319 9.42167 3.6849 9.52035 3.47166 9.68685C3.25842 9.85336 3.10004 10.08 3.01703 10.3375C2.93178 10.5989 2.9268 10.8799 3.00273 11.1442C3.07866 11.4085 3.23202 11.644 3.44304 11.8203L7.16243 14.9663L6.05644 19.3165C5.97992 19.6108 5.99369 19.9213 6.09596 20.2076C6.19823 20.494 6.38428 20.743 6.62991 20.9222C6.86834 21.0933 7.15241 21.1894 7.44575 21.1982C7.7391 21.2069 8.02839 21.128 8.2766 20.9714L12.1189 18.5382H12.1353L16.2725 21.1516C16.4847 21.2895 16.7321 21.3634 16.9852 21.3646C17.1919 21.363 17.3954 21.314 17.5802 21.2214C17.7649 21.1288 17.926 20.9951 18.051 20.8305C18.176 20.666 18.2616 20.4749 18.3013 20.2721C18.3409 20.0693 18.3335 19.8601 18.2796 19.6606L17.1081 14.9007L20.8111 11.8203C21.0221 11.644 21.1755 11.4085 21.2514 11.1442C21.3273 10.8799 21.3224 10.5989 21.2371 10.3375Z" fill="url(#paint0_linear_229_1173)" />
                                <defs>
                                    <linearGradient id="paint0_linear_229_1173" x1="12.1271" y1="3.66882" x2="12.1271" y2="21.3646" gradientUnits="userSpaceOnUse">
                                        <stop stop-color="#89CE64" />
                                        <stop offset="1" stop-color="#B9F09D" />
                                    </linearGradient>
                                </defs>
                            </svg>
                            <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21.2371 10.3375C21.1551 10.0794 20.997 9.85216 20.7835 9.6855C20.5701 9.51884 20.3113 9.42056 20.041 9.40356L15.1747 9.06767L13.3723 4.52084C13.2739 4.27048 13.1026 4.05543 12.8806 3.90352C12.6586 3.75162 12.3961 3.66986 12.1271 3.66882C11.8581 3.66986 11.5956 3.75162 11.3735 3.90352C11.1515 4.05543 10.9802 4.27048 10.8818 4.52084L9.0467 9.09225L4.21313 9.40356C3.94319 9.42167 3.6849 9.52035 3.47166 9.68685C3.25842 9.85336 3.10004 10.08 3.01703 10.3375C2.93178 10.5989 2.9268 10.8799 3.00273 11.1442C3.07866 11.4085 3.23202 11.644 3.44304 11.8203L7.16243 14.9663L6.05644 19.3165C5.97992 19.6108 5.99369 19.9213 6.09596 20.2076C6.19823 20.494 6.38428 20.743 6.62991 20.9222C6.86834 21.0933 7.15241 21.1894 7.44575 21.1982C7.7391 21.2069 8.02839 21.128 8.2766 20.9714L12.1189 18.5382H12.1353L16.2725 21.1516C16.4847 21.2895 16.7321 21.3634 16.9852 21.3646C17.1919 21.363 17.3954 21.314 17.5802 21.2214C17.7649 21.1288 17.926 20.9951 18.051 20.8305C18.176 20.666 18.2616 20.4749 18.3013 20.2721C18.3409 20.0693 18.3335 19.8601 18.2796 19.6606L17.1081 14.9007L20.8111 11.8203C21.0221 11.644 21.1755 11.4085 21.2514 11.1442C21.3273 10.8799 21.3224 10.5989 21.2371 10.3375Z" fill="url(#paint0_linear_229_1173)" />
                                <defs>
                                    <linearGradient id="paint0_linear_229_1173" x1="12.1271" y1="3.66882" x2="12.1271" y2="21.3646" gradientUnits="userSpaceOnUse">
                                        <stop stop-color="#89CE64" />
                                        <stop offset="1" stop-color="#B9F09D" />
                                    </linearGradient>
                                </defs>
                            </svg>
                        </div>
                        <div className="flex mt-2 mb-2">
                            <svg width="20" height="20" viewBox="0 0 10 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4.91091 0.0638428C3.60891 0.0653198 2.36066 0.583192 1.44 1.50384C0.519349 2.4245 0.00147703 3.67275 0 4.97475C0 9.17692 4.46446 12.3523 4.6542 12.4862C4.73024 12.5368 4.81955 12.5638 4.91091 12.5638C5.00226 12.5638 5.09157 12.5368 5.16761 12.4862C5.35735 12.3523 9.82181 9.17692 9.82181 4.97475C9.82033 3.67275 9.30246 2.4245 8.38181 1.50384C7.46115 0.583192 6.2129 0.0653198 4.91091 0.0638428V0.0638428ZM4.91091 3.18896C5.2641 3.18896 5.60936 3.2937 5.90303 3.48992C6.1967 3.68615 6.42559 3.96505 6.56075 4.29136C6.69592 4.61767 6.73128 4.97673 6.66238 5.32314C6.59347 5.66954 6.42339 5.98774 6.17364 6.23749C5.9239 6.48723 5.6057 6.65731 5.25929 6.72622C4.91289 6.79512 4.55382 6.75976 4.22752 6.6246C3.90121 6.48944 3.6223 6.26055 3.42608 5.96688C3.22986 5.67321 3.12512 5.32794 3.12512 4.97475C3.12512 4.50113 3.31327 4.04691 3.64817 3.71201C3.98306 3.37711 4.43729 3.18896 4.91091 3.18896V3.18896Z" fill="#ABB5C5" />
                            </svg>
                            <p className="ml-1 text-sm text-[#ABB5C5] font-inter">{detail.data?.address}</p>
                        </div>
                        <div className="flex mb-2">
                            <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 4.56384C8.76387 4.56384 7.5555 4.9304 6.52769 5.61716C5.49988 6.30392 4.6988 7.28003 4.22576 8.42207C3.75271 9.56411 3.62894 10.8208 3.87009 12.0332C4.11125 13.2455 4.70651 14.3592 5.58059 15.2333C6.45466 16.1073 7.56831 16.7026 8.78069 16.9437C9.99307 17.1849 11.2497 17.0611 12.3918 16.5881C13.5338 16.115 14.5099 15.314 15.1967 14.2862C15.8834 13.2583 16.25 12.05 16.25 10.8138C16.2468 9.15721 15.5873 7.56935 14.4159 6.39793C13.2445 5.22652 11.6566 4.56702 10 4.56384V4.56384ZM13.3654 11.2946H10C9.87249 11.2946 9.75021 11.244 9.66005 11.1538C9.56988 11.0636 9.51923 10.9413 9.51923 10.8138V7.44846C9.51923 7.32095 9.56988 7.19866 9.66005 7.1085C9.75021 7.01834 9.87249 6.96769 10 6.96769C10.1275 6.96769 10.2498 7.01834 10.34 7.1085C10.4301 7.19866 10.4808 7.32095 10.4808 7.44846V10.3331H13.3654C13.4929 10.3331 13.6152 10.3837 13.7053 10.4739C13.7955 10.564 13.8462 10.6863 13.8462 10.8138C13.8462 10.9413 13.7955 11.0636 13.7053 11.1538C13.6152 11.244 13.4929 11.2946 13.3654 11.2946Z" fill="#ABB5C5" />
                            </svg>
                            <p className="text-sm font-inter text-[#ABB5C5] "> 08.00 - 13.00 WIB</p>
                        </div>
                        <div className="flex mb-2">
                            <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15.2572 4.83709L10.5352 4.56726C10.3103 4.54478 10.1079 4.63472 9.95052 4.79212L3.96924 10.7734C3.67692 11.0657 3.67692 11.5604 3.96924 11.8752L8.93865 16.8446C9.23096 17.1369 9.72566 17.1369 10.0405 16.8446L16.0217 10.8633C16.1791 10.7059 16.2691 10.5036 16.2466 10.2787L15.9768 5.57913C15.9543 5.17438 15.6395 4.85958 15.2572 4.83709Z" fill="#ABB5C5" />
                                <path d="M8.93848 16.8446C9.23079 17.1369 9.72549 17.1369 10.0403 16.8446L16.0216 10.8633C16.179 10.7059 16.2689 10.5036 16.2464 10.2787L15.9766 5.57913C15.9541 5.19687 15.6393 4.88207 15.257 4.85958L10.535 4.56726C10.3101 4.54478 10.1077 4.63472 9.95035 4.79212" fill="#ABB5C5" />
                                <path d="M13.3022 9.07262C14.1915 9.07262 14.9125 8.35167 14.9125 7.46233C14.9125 6.573 14.1915 5.85205 13.3022 5.85205C12.4128 5.85205 11.6919 6.573 11.6919 7.46233C11.6919 8.35167 12.4128 9.07262 13.3022 9.07262Z" fill="#ABB5C5" />
                                <path d="M13.3023 8.42287C13.8328 8.42287 14.2628 7.99283 14.2628 7.46235C14.2628 6.93187 13.8328 6.50183 13.3023 6.50183C12.7718 6.50183 12.3418 6.93187 12.3418 7.46235C12.3418 7.99283 12.7718 8.42287 13.3023 8.42287Z" fill="white" />
                            </svg>

                            <p className="text-sm font-inter text-[#ABB5C5] "> Rp. 250.000 - 300.000/jam</p>
                        </div>

                        <button type="button" onClick={()=> navigate("/schedule/"+id)} className="mt-9 mr-4 w-[143px] h-[48px] bg-[#91D36E] focus:outline-none text-white focus:ring-4 text-sm px-5 py-2.5 mb-2 rounded-md ">Cek Jadwal</button>
                        <button type="button" className="mt-9 w-[143px] h-[48px] text-[#91D36E] border-solid border-2 border-[#91d36e] focus:ring-4 text-sm px-5 py-2.5 mb-2 rounded-md ">Kirim Pesan</button>
                    </div>
                </div>

            </section>
            <section className="wrapper mt-[139px] ">
                <div className="flex items-center justify-center flex-col gap-[14px] ">
                    <div className=" mb-[59px] ">
                        <h1 className="text-5xl font-bold font-josefin-700 text-[#555555] ">
                            <span className="text-[#91D36E]">Lokasi</span> Lapangan
                        </h1>
                    </div>
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3960.573119122223!2d107.61435811393997!3d-6.941510969879211!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e68e9d0aebbedc7%3A0x58af71c5b30e5963!2sCoworking%20Space%20Bisa%20AI!5e0!3m2!1sen!2sid!4v1648323221059!5m2!1sen!2sid "
                        width="1142" height="503 " style={{ border: 0 }} allowfullscreen=" " loading="lazy " referrerpolicy="no-referrer-when-downgrade "></iframe>
                </div>
            </section>
        </>
    )
}